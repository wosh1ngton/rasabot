version: "3.1"
rules:
- rule: Saudação
  steps:
  - intent: saudacao
  - action: utter_saudacao

- rule: Serviço
  steps:
  - intent: perguntar_servicos
  - action: utter_servicos

- rule: Ativar formulário de agendamento
  steps:
  - intent: marcar_consulta
  - action: agendamento_form
  - active_loop: agendamento_form

- rule: Encerrar formulário de agendamento
  condition:
    - active_loop: agendamento_form
  steps:
    - action: agendamento_form
    - active_loop: null
    - slot_was_set:
        - requested_slot: null
    - action: utter_confirmar_agendamento
    - action: action_agendar_consulta

- rule: Despedida
  steps:
  - intent: despedida
  - action: utter_despedida


